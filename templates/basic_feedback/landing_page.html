{% extends 'main_base.html' %}
{% load static %}

{% block css_links %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/basic_feedback/landing_page.css' %}" />
{% endblock %}

{% block content %}

<div id="feedback-container">

  <div id="feedback-header">
    <h1>Feedback</h1>
    <button id="open-create-panel-button"><span class="fa fa-plus"></span> Write Feedback</button>
  </div>

  <!-- feedback cell -->
  <div id="feedback-cell">
    <a href=""><h1>AGT Kurye (aynigunteslim.com) Kargo 1 Haftadır Ulaşmadı</h1></a>
    <div id="feedback-cell-meta-info">
      <div id="feedbacker-profile-photo"></div>
      <p id="post-info"><a href="">username</a> | Jun 20, 2020</p>
      <!-- count max: 300 char -->
      <p id="post-content">
          Amazon üzerinden sipariş ettiğim ürün üzerinden bir hafta geçmesine
          rağmen elime ulaşmadı. Müşteri hizmetleri hizmeti çalışmıyor. Arayan
          soran yok. Kargom hala bekliyor. Amazon.com'u da beni de mağdur ettiler.
          Aynı gün teslim konusunu unutun. Başka kargo şirketlerinin en
          azından müşteri hizmetleri <a href="">... read more</a>
      </p>
    </div>
    <p id="feedback-views">1500 views</p>
  </div>
  <!-- /cell -->

  <div id="feedback-pagination">
      <a href=""><span class="fa fa-arrow-left"></span></a>
      <a href=""><span class="fa fa-arrow-right"></span></a>
  </div>
</div>


<!-- hidden feed back create panel -->
<div id="hidden-feedback-create-panel">
  <button id="close-create-panel-button"><span class="fa fa-close"></span></button>
  <h3>Give us a feedback</h3>

  {% if empty_input == True %}
    <script>alert("You cannot enter empty input.");</script>
  {% elif less_than_100_chars == True %}
    <script>alert("Your feedback cannot be less than 100 cahracters.");</script>
  {% endif %}


  {% with redirect_page="0" %}
  <form method="POST" action="{% url 'basic_feedback_landing_page' redirect_page %}">
      {% csrf_token %}
      <label>Title:</label>
      <input type="text" placeholder="Feedback Title" name="feedback_title" />
      <label>Your Feedback:</label>
      <textarea name="feedback_content" placeholder="Please be precise in your feedback ..."></textarea>
      <input type="submit" value="Post" id="feedback-create-button" name="basic_feedback_create_submit_btn" />
  </form>
  {% endwith %}
</div>

<script>

  let open_button = document.getElementById("open-create-panel-button");
  let close_button = document.getElementById("close-create-panel-button");
  let hidden_create_panel = document.getElementById("hidden-feedback-create-panel");

  open_button.onclick = function () {
    hidden_create_panel.style.display = "block";
  }

  close_button.onclick = function () {
    hidden_create_panel.style.display = "none";
  }

</script>


{% endblock %}
